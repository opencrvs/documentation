# 4.3.5.2 Running Dependencies deployment

### Preparation steps

This section explains how to deploy OpenCRVS dependencies grouped in 2 helm charts:

* **Ingress controller:** [Traefik](https://doc.traefik.io/traefik/) helm chart
* **Datastores** (via the [OpenCRVS dependencies Helm chart](https://github.com/opencrvs/infrastructure/tree/develop/charts/opencrvs-services)):
  * MongoDB
  * PostgreSQL
  * Elasticsearch
  * Redis
  * MinIO
  * InfluxDB

Environment configuration script (`yarn environment:init`) prepared configuration files (`values.yaml`) for deployment with default parameters. Navigate to `environments` folder inside infrastructure repository and review configuration files.

Here is an example directory structure for development environment:

```
environments/
├── development
│   ├── dependencies
│   │   └── values.yaml
│   ├── opencrvs-services
│   │   └── values.yaml
│   └── traefik
│       └── values.yaml
└── README.md
```

Usually you need to adjust [TLS / SSL configuration](../4.3.3-tls-ssl-and-dns/) for your needs in `environments/traefik/values.yaml`&#x20;

### Run dependencies deployment

1. Navigate to GitHub Actions within `infrastructure` repository
2. Select "Deploy Dependencies" action
3. Select "Target environment" from dropdown menu, all environments created at [Create a GitHub Environment](../4.3.4-create-a-github-environment/) step should be listed here.
4. Click "Run workflow" button

### Verification steps

* Verify workflow was completed successfully
* Verify resources are up and running after deployment:
  * `kubectl get namespaces` : You should see 2 new namespaces created (`traefik`, `opencrvs-deps-<env>`). NOTE: Check how to run `kubectl` at [Kubernetes cluster access](../4.3.5-provisioning-servers/4.3.5.2-kubernetes-cluster-access.md).
  * `kubectl get pods -n traefik`: Make sure traefik pod is up and running
  * `kubectl get pods -n opencrvs-deps-<env>` : make sure datastores are up and running
* Verify that **MinIO** and **Kibana** are available:
  * Kibana URL: `https://kibana.<your domain>`
  * MinIO URL: `https://minio.<your domain>`

> NOTE: Credentials are stored at GitHub secrets or can be fetched namespace `opencrvs-deps-<env>`.
