# 4.3.2.2 LetsEncrypt https challenge in development environments

## LetsEncrypt https challenge in development environments

#### LetsEncrypt HTTPS Challenge

{% hint style="info" %}
`yarn environment:init` script automatically handles this configuration you, check [..](../ "mention")
{% endhint %}

If you are provisioning a **development** environment for learning purposes **outside of a VPN**, then this block is all you need in order to configure the LetsEncrypt HTTPS challenge mechanism for SSL cert generation.

1. Update traefik helm chart values by adding following code snippet to `environments/<env name>/traefik/values.yaml`

```yaml
ports:
  # ...
  websecure:
    # ...
    # ðŸ‘‡ Check this section at websecure entrypoint
    http:
      tls:
        enabled: true
        certResolver: cloudflare

certificatesResolvers:
  letsencrypt:
    acme:
      tlsChallenge: false
      httpChallenge:
        entryPoint: web
      # ðŸ‘‡ Put admin email here
      email: <admin email>
      # Storage for certificates:
      storage: /certificates/acme.json
      # NOTE: Sometimes Let's Encrypt hit production SSL certificate issuing limits
      #       If you are having issues, switch to staging
      # Staging server
      caServer: https://acme-staging-v02.api.letsencrypt.org/directory
      # Production server
      # caServer: https://acme-v02.api.letsencrypt.org/directory
```

See full example at [examples/dev/traefik/values.yaml](https://github.com/opencrvs/infrastructure/blob/develop/examples/dev/traefik/values.yaml)

8. Commit and push changes
9. Run "Provision" workflow or deploy traefik manually

{% embed url="https://doc.traefik.io/traefik/https/acme/#providers" %}
